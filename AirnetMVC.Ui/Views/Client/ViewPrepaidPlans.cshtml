@model IEnumerable<AirnetMVC.DataService.Plan>

@{
    ViewBag.Title = "ViewPrepaidPlans";
    Layout = "~/Views/Shared/_ClientLayout.cshtml";
}

<h2>Popular Prepaid Plans</h2>
<div class="container-fluid">
    <div class="row mt-4">
        @foreach (var item in Model)
        {
            <div class="card mb-3 shadow rounded p-3 col-lg-4 mx-5" style="max-width: 20rem; ">
                <div class="d-flex justify-content-between">
                    <div class="h3 fw-bolder my-auto">₹@Html.DisplayFor(modelItem => item.PlanPrice)</div>
                    <div class="h5 my-auto">@Html.DisplayFor(modelItem => item.PlanName)</div>
                </div>
                <hr />
                <div class="text-dark">
                    <div class="row">
                        <div class="col-6">
                            <div class="h5 fw-bolder">@Html.DisplayFor(modelItem => item.Data)</div>
                            <div class="lead">Data</div>
                        </div>
                        <div class="col-6 text-end">
                            <div class="h5 fw-bolder">@Html.DisplayFor(modelItem => item.PlanValidity) days</div>
                            <div class="lead">Validity</div>
                        </div>
                    </div>
                </div>
                <div class="mt-3 d-flex justify-content-between">
                    <div class="btn btn-warning" style="cursor: pointer; color: dodgerblue" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight5" aria-controls="offcanvasRight">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-cart-plus-fill" viewBox="0 0 16 16">
                            <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z" />
                        </svg>
                        @Ajax.ActionLink("Recharge", "AddRecharge", "Recharge", new { id = item.PlanId },
                        new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "divRech", InsertionMode = InsertionMode.Replace },
                        htmlAttributes: new { @class = "text-decoration-none text-dark" })
                    </div>
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight5" aria-labelledby="offcanvasRightLabel5">
                        <div class="offcanvas-header">
                            <h5 id="offcanvasRightLabel5" class="mx-auto my-auto">Get Recharged</h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body" id="divRech">

                        </div>
                    </div>
                    <div class="my-auto lead" style="cursor: pointer; color: dodgerblue" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                        @Ajax.ActionLink("more details", "GetPlanDetails", new { id = item.PlanId },
                        new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "divDetails", InsertionMode = InsertionMode.Replace })
                    </div>
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
                        <div class="offcanvas-header">
                            <h5 id="offcanvasRightLabel" class="mx-auto my-auto">More Details</h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body" id="divDetails">

                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
